{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{YSUm:function(l,n,t){\"use strict\";t.r(n);var u=t(\"8Y7J\");class e{constructor(){console.log(\"ReportsModule\")}}var i=t(\"pMnS\"),a=t(\"SVse\"),o=t(\"K+Kt\"),r=(t(\"oTcB\"),t(\"IheW\")),s=t(\"AytR\"),c=t(\"s7LF\");class b{constructor(l,n,t,u,e){this.api=l,this.http=n,this.router=t,this.fb=u,this.activatedRoute=e,this.dtOptions={},this.ActivePage=\"Default\",this.isSubmitted=!1,this.Ins_Compaines=[],this.GlobelLOB=[],this.PolicyFileType=[],this.PolicyType=[],this.ProductType=[],this.SR_Session_Year=[],this.SRSource_Ar=[],this.filterrd=[],this.dropdownSettingsmultiselect={},this.dropdownSettingsingleselect={},this.Is_Export=0,this.ActionType=\"\",this.ItemLOBSelection=[],this.SearchForm=this.fb.group({Lob:[\"\"],DateOrDateRange:[\"\"],Company:[\"\"],FinancialYear:[\"\"],PolicyFileType:[\"\"],PolicyType:[\"\"],Source:[\"\"],ProductType:[\"\"],SearchValue:[\"\"]}),this.dropdownSettingsmultiselect={singleSelection:!1,idField:\"Id\",textField:\"Name\",itemsShowLimit:2,enableCheckAll:!1,allowSearchFilter:!0},this.dropdownSettingsingleselect={singleSelection:!0,idField:\"Id\",textField:\"Name\",itemsShowLimit:2,enableCheckAll:!1,allowSearchFilter:!0},this.SearchForm=this.fb.group({FinancialYear:[\"\",c.x.required],DateOrDateRange:[\"\",c.x.required],Source:[\"\"],Lob:[\"\"],PolicyFileType:[\"\"],PolicyType:[\"\"],ProductType:[\"\"],Company:[\"\"],SearchValue:[\"\"]}),this.SearchForm.get(\"FinancialYear\").setValue([{Id:\"2021-22\",Name:\"2021-22\"}])}ngOnInit(){this.Get(),this.FilterDataType()}get formControls(){return this.SearchForm.controls}FilterDataType(){this.api.IsLoading(),this.api.HttpGetType(\"Globel/PolicyFilterType?User_Id=\"+this.api.GetUserData(\"Id\")+\"&User_Type=\"+this.api.GetUserType()).then(l=>{this.api.HideLoading(),1==l.Status?(this.GlobelLOB=l.Data.GlobelLOB,this.Ins_Compaines=l.Data.Ins_Compaines,this.SR_Session_Year=l.Data.SR_Session_Year,this.SRSource_Ar=[{Id:\"BMS\",Name:\"Offline\"},{Id:\"Web\",Name:\"Online\"},{Id:\"Excel\",Name:\"Excel\"}]):this.api.Toast(\"Warning\",l.Message)},l=>{this.api.HideLoading(),this.api.Toast(\"Warning\",\"Network Error : \"+l.name+\"(\"+l.statusText+\")\")})}ClearSearch(){this.SearchForm.reset(),this.ResetDT(),this.Is_Export=0}Reload(){}ResetDT(){}SearchBtn(){this.isSubmitted=!0,this.SearchForm.invalid||this.dtElements.forEach((l,n)=>{l.dtInstance.then(l=>{if(\"Table1\"==\"\"+l.table().node().id){var n,t,u=this.SearchForm.value,e=u.DateOrDateRange;e&&(n=e[0],t=e[1]);var i={User_Id:this.api.GetUserData(\"Id\"),User_Type:this.api.GetUserType(),Lob:u.Lob,Company:u.Company,PolicyType:u.PolicyType,ProductType:u.ProductType,FinancialYear:u.FinancialYear,PolicyFileType:u.PolicyFileType,Source:u.Source,To_Date:this.api.StandrdToDDMMYYY(n),From_Date:this.api.StandrdToDDMMYYY(t),SearchValue:u.SearchValue};console.log(i),l.column(0).search(JSON.stringify(i)).draw()}})})}Get(){const l={headers:new r.g({Authorization:\"Bearer \"+this.api.GetToken()})},n=this;this.dtOptions={pagingType:\"full_numbers\",pageLength:10,serverSide:!0,processing:!0,ajax:(t,u)=>{n.http.post(s.a.apiUrl+\"/myaccount/PolicyDataFetch?User_Id=\"+this.api.GetUserData(\"Id\")+\"&User_Type=\"+this.api.GetUserType()+\"&Action=\"+this.ActionType+\"&Pos_Type=\"+this.api.GetUserData(\"pos_type\"),t,l).subscribe(l=>{n.dataAr=l.data,console.log(n.dataAr),n.FilterData=l.FilterPolicyData,u({recordsTotal:l.recordsTotal,recordsFiltered:l.recordsFiltered,data:[],FilterPolicyData:[]})})}}}}var d=t(\"rgjJ\"),p=t(\"iInd\"),h=u.rb({encapsulation:0,styles:[[\".btn-danger1[_ngcontent-%COMP%]{background-color:#d61111;border-color:#d61111;padding:3px;font-size:12px;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#3c8dbc;border-color:#367fa9;padding:3px;font-size:12px}.btn-success[_ngcontent-%COMP%]{background-color:#00a65a;border-color:#00a65a;padding:3px;font-size:12px}.btn-warning[_ngcontent-%COMP%]{background-color:#f39c12;border-color:#f39c12;padding:3px;font-size:12px}input.form-control.ng-untouched.ng-pristine.ng-valid[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.btn-search[_ngcontent-%COMP%]{margin:10px 0}.form-blog-top[_ngcontent-%COMP%]{box-shadow:1px 1px 10px #0000000d;padding:10px;margin-bottom:25px;border:1px solid #0000002b}.dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_filter[_ngcontent-%COMP%], .dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_info[_ngcontent-%COMP%], .dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_length[_ngcontent-%COMP%], .dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_paginate[_ngcontent-%COMP%], .dataTables_wrapper[_ngcontent-%COMP%]   .dataTables_processing[_ngcontent-%COMP%]{color:#333;display:none}\"]],data:{}});function g(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,\"label\",[[\"class\",\"btn btn-danger1\"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Referred\"]))],null,null)}function m(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,35,\"tr\",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,\"td\",[],null,null,null,null,null)),(l()(),u.Nb(2,null,[\"\",\"\"])),(l()(),u.tb(3,0,null,null,8,\"td\",[],null,null,null,null,null)),(l()(),u.tb(4,0,null,null,1,\"label\",[[\"class\",\"btn btn-success\"]],null,null,null,null,null)),(l()(),u.Nb(5,null,[\"\",\"\"])),(l()(),u.Nb(-1,null,[\" \\xa0\"])),(l()(),u.tb(7,0,null,null,1,\"label\",[[\"class\",\"btn btn-warning\"]],null,null,null,null,null)),(l()(),u.Nb(8,null,[\"\",\"\"])),(l()(),u.Nb(-1,null,[\"\\xa0\"])),(l()(),u.ib(16777216,null,null,1,null,g)),u.sb(11,16384,null,0,a.m,[u.O,u.L],{ngIf:[0,\"ngIf\"]},null),(l()(),u.tb(12,0,null,null,1,\"td\",[],null,null,null,null,null)),(l()(),u.Nb(13,null,[\"\",\"\"])),(l()(),u.tb(14,0,null,null,1,\"td\",[],null,null,null,null,null)),(l()(),u.Nb(15,null,[\"\",\"\"])),(l()(),u.tb(16,0,null,null,7,\"td\",[],null,null,null,null,null)),(l()(),u.tb(17,0,null,null,1,\"b\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Name - \"])),(l()(),u.Nb(19,null,[\" \",\"\"])),(l()(),u.tb(20,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),u.tb(21,0,null,null,1,\"b\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Mobile - \"])),(l()(),u.Nb(23,null,[\" \",\"\"])),(l()(),u.tb(24,0,null,null,1,\"td\",[],null,null,null,null,null)),(l()(),u.Nb(25,null,[\"\",\"\"])),(l()(),u.tb(26,0,null,null,1,\"td\",[],null,null,null,null,null)),(l()(),u.Nb(27,null,[\"\",\"\"])),(l()(),u.tb(28,0,null,null,7,\"td\",[],null,null,null,null,null)),(l()(),u.tb(29,0,null,null,1,\"b\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Net - \"])),(l()(),u.Nb(31,null,[\"\",\"\"])),(l()(),u.tb(32,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),u.tb(33,0,null,null,1,\"b\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Gross - \"])),(l()(),u.Nb(35,null,[\"\",\"\"]))],(function(l,n){l(n,11,0,\"2\"==n.context.$implicit.Policy_Type)}),(function(l,n){l(n,2,0,n.context.$implicit.SrNo),l(n,5,0,n.context.$implicit.LOB),l(n,8,0,n.context.$implicit.TypeName),l(n,13,0,n.context.$implicit.Company),l(n,15,0,n.context.$implicit.Vehicle_No),l(n,19,0,n.context.$implicit.CustomerName),l(n,23,0,n.context.$implicit.CustomerMobile),l(n,25,0,n.context.$implicit.IssuedDate),l(n,27,0,n.context.$implicit.BookingDate),l(n,31,0,n.context.$implicit.NetPremium),l(n,35,0,n.context.$implicit.GrossPremium)}))}function y(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,\"tbody\",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,m)),u.sb(2,278528,null,0,a.l,[u.O,u.L,u.r],{ngForOf:[0,\"ngForOf\"]},null)],(function(l,n){l(n,2,0,n.component.dataAr)}),null)}function T(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,3,\"tbody\",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,2,\"tr\",[],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,1,\"td\",[[\"align\",\"center\"],[\"colspan\",\"8\"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"No data Available !\"]))],null,null)}function f(l){return u.Pb(0,[u.Lb(671088640,1,{dtElements:1}),(l()(),u.tb(1,0,null,null,32,\"div\",[[\"class\",\"content-wrapper\"]],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,31,\"section\",[[\"class\",\"content\"]],null,null,null,null,null)),(l()(),u.tb(3,0,null,null,30,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(l()(),u.tb(4,0,null,null,29,\"div\",[[\"class\",\"col-xs-12\"]],null,null,null,null,null)),(l()(),u.tb(5,0,null,null,28,\"div\",[[\"class\",\"box\"]],null,null,null,null,null)),(l()(),u.tb(6,0,null,null,0,\"div\",[[\"class\",\"box-header\"]],null,null,null,null,null)),(l()(),u.tb(7,0,null,null,26,\"div\",[[\"class\",\"box-body\"]],null,null,null,null,null)),(l()(),u.tb(8,0,null,null,25,\"div\",[[\"class\",\"mydiv\"]],null,null,null,null,null)),(l()(),u.tb(9,0,null,null,24,\"table\",[[\"class\",\"table table-bordered table-hover\"],[\"datatable\",\"\"],[\"id\",\"Table1\"]],null,null,null,null,null)),u.sb(10,212992,[[1,4]],0,o.a,[u.k],{dtOptions:[0,\"dtOptions\"]},null),(l()(),u.tb(11,0,null,null,17,\"thead\",[],null,null,null,null,null)),(l()(),u.tb(12,0,null,null,16,\"tr\",[],null,null,null,null,null)),(l()(),u.tb(13,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"SrNo\"])),(l()(),u.tb(15,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"LOB / Type\"])),(l()(),u.tb(17,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Insurer\"])),(l()(),u.tb(19,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Vehicle No\"])),(l()(),u.tb(21,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"User Details\"])),(l()(),u.tb(23,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Issued Date\"])),(l()(),u.tb(25,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Booking Date\"])),(l()(),u.tb(27,0,null,null,1,\"th\",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[\"Premium\"])),(l()(),u.ib(16777216,null,null,1,null,y)),u.sb(30,16384,null,0,a.m,[u.O,u.L],{ngIf:[0,\"ngIf\"]},null),(l()(),u.ib(16777216,null,null,1,null,T)),u.sb(32,16384,null,0,a.m,[u.O,u.L],{ngIf:[0,\"ngIf\"]},null),(l()(),u.tb(33,0,null,null,0,\"tbody\",[],null,null,null,null,null))],(function(l,n){var t=n.component;l(n,10,0,t.dtOptions),l(n,30,0,0!=(null==t.dataAr?null:t.dataAr.length)),l(n,32,0,0==(null==t.dataAr?null:t.dataAr.length))}),null)}function _(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,\"app-posp-reports\",[],null,null,null,f,h)),u.sb(1,114688,null,0,b,[d.a,r.c,p.k,c.f,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var S=u.pb(\"app-posp-reports\",b,_,{},{},[]),P=t(\"axVG\"),x=t(\"UPO+\");class D{}t.d(n,\"ReportsModuleNgFactory\",(function(){return N}));var N=u.qb(e,[],(function(l){return u.Cb([u.Db(512,u.j,u.bb,[[8,[i.a,S]],[3,u.j],u.w]),u.Db(4608,a.o,a.n,[u.t,[2,a.A]]),u.Db(4608,c.z,c.z,[]),u.Db(4608,c.f,c.f,[]),u.Db(1073742336,a.c,a.c,[]),u.Db(1073742336,c.y,c.y,[]),u.Db(1073742336,c.j,c.j,[]),u.Db(1073742336,c.u,c.u,[]),u.Db(1073742336,P.a,P.a,[]),u.Db(1073742336,x.b,x.b,[]),u.Db(1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),u.Db(1073742336,D,D,[]),u.Db(1073742336,e,e,[]),u.Db(1024,p.i,(function(){return[[{path:\"Posp-reports\",component:b}]]}),[])])}))}}]);","extractedComments":[]}